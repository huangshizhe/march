<engine>
  <projects>
    <project name="March_test" pubsub="auto" threads="4">
      <contqueries>
        <contquery name="March_cq">
          <windows>
<!--            <window-join name="joinWindow">-->
<!--              <join type="inner">-->
<!--                <conditions>-->
<!--                  <fields left="time" right="time" />-->
<!--                </conditions>-->
<!--              </join>-->
<!--              <output>-->
<!--                <field-selection name="time" source="l_time" />-->
<!--                <field-selection name="joint_angles" source="l_jonit_angles" />-->
<!--                <field-selection name="temperature_left_hip_aa" source="r_temperature_left_hip_aa" />-->
<!--                <field-selection name="temperature_right_hip_aa" source="r_temperature_right_hip_aa" />-->
<!--                <field-selection name="temperature_left_hip_fe" source="r_temperature_left_hip_fe" />-->
<!--                <field-selection name="temperature_right_hip_fe" source="r_temperature_right_hip_fe" />-->
<!--                <field-selection name="temperature_left_ankle" source="r_temperature_left_ankle" />-->
<!--                <field-selection name="temperature_right_ankle" source="r_temperature_right_ankle" />-->
<!--                <field-selection name="temperature_left_knee" source="r_temperature_left_knee" />-->
<!--                <field-selection name="temperature_right_knee" source="r_temperature_right_knee" />-->
<!--              </output>-->
<!--              <connectors>-->
<!--                <connector class="fs" name="sub" type="subscribe">-->
<!--                  <properties>-->
<!--                    <property name="dateformat">%Y-%m-%d %H:%M:%S</property>-->
<!--                    <property name="fsname">temperature_complete.csv</property>-->
<!--                    <property name="fstype">csv</property>-->
<!--                    <property name="snapshot">true</property>-->
<!--                  </properties>-->
<!--                </connector>-->
<!--              </connectors>-->
<!--            </window-join>-->
            <window-join name="joinTemperature">
              <join type="inner">
                <conditions>
                  <fields left="time" right="time" />
                </conditions>
              </join>
              <output>
                <field-selection name="time" source="l_time" />
                <field-selection name="temperature_left_hip_aa" source="l_temperature_left_hip_aa" />
                <field-selection name="temperature_right_hip_aa" source="l_temperature_right_hip_aa" />
                <field-selection name="temperature_left_hip_fe" source="l_temperature_left_hip_fe" />
                <field-selection name="temperature_right_hip_fe" source="l_temperature_right_hip_fe" />
                <field-selection name="temperature_left_ankle" source="r_temperature_left_ankle" />
                <field-selection name="temperature_right_ankle" source="r_temperature_right_ankle" />
                <field-selection name="temperature_left_knee" source="r_temperature_left_knee" />
                <field-selection name="temperature_right_knee" source="r_temperature_right_knee" />
              </output>
              <connectors>
                <connector class="fs" name="sub" type="subscribe">
                  <properties>
                    <property name="dateformat">%Y-%m-%d %H:%M:%S</property>
                    <property name="fsname">temperature_complete.csv</property>
                    <property name="fstype">csv</property>
                    <property name="snapshot">true</property>
                  </properties>
                </connector>
              </connectors>
            </window-join>
            <window-join name="joinTemperature_ankle">
              <join type="inner">
                <conditions>
                  <fields left="time" right="time" />
                </conditions>
              </join>
              <output>
                <field-selection name="time" source="l_time" />
                <field-selection name="temperature_left_ankle" source="l_temperature" />
                <field-selection name="temperature_right_ankle" source="r_temperature" />
              </output>
            </window-join>
            <window-join name="joinTemperature_ankle_knee">
              <join type="inner">
                <conditions>
                  <fields left="time" right="time" />
                </conditions>
              </join>
              <output>
                <field-selection name="time" source="l_time" />
                <field-selection name="temperature_left_ankle" source="l_temperature_left_ankle" />
                <field-selection name="temperature_right_ankle" source="l_temperature_right_ankle" />
                <field-selection name="temperature_left_knee" source="r_temperature_left_knee" />
                <field-selection name="temperature_right_knee" source="r_temperature_right_knee" />
              </output>
            </window-join>
            <window-join name="joinTemperature_hip">
              <join type="inner">
                <conditions>
                  <fields left="time" right="time" />
                </conditions>
              </join>
              <output>
                <field-selection name="time" source="l_time" />
                <field-selection name="temperature_left_hip_aa" source="l_temperature_left_hip_aa" />
                <field-selection name="temperature_right_hip_aa" source="l_temperature_right_hip_aa" />
                <field-selection name="temperature_left_hip_fe" source="r_temperature_left_hip_fe" />
                <field-selection name="temperature_right_hip_fe" source="r_temperature_right_hip_fe" />
              </output>
            </window-join>
            <window-join name="joinTemperature_hip_aa">
              <join type="inner">
                <conditions>
                  <fields left="time" right="time" />
                </conditions>
              </join>
              <output>
                <field-selection name="time" source="l_time" />
                <field-selection name="temperature_left_hip_aa" source="l_temperature" />
                <field-selection name="temperature_right_hip_aa" source="r_temperature" />
              </output>
            </window-join>
            <window-join name="joinTemperature_hip_fe">
              <join type="inner">
                <conditions>
                  <fields left="time" right="time" />
                </conditions>
              </join>
              <output>
                <field-selection name="time" source="l_time" />
                <field-selection name="temperature_left_hip_fe" source="l_temperature" />
                <field-selection name="temperature_right_hip_fe" source="r_temperature" />
              </output>
            </window-join>
            <window-join name="joinTemperature_knee">
              <join type="inner">
                <conditions>
                  <fields left="time" right="time" />
                </conditions>
              </join>
              <output>
                <field-selection name="time" source="l_time" />
                <field-selection name="temperature_left_knee" source="l_temperature" />
                <field-selection name="temperature_right_knee" source="r_temperature" />
              </output>
            </window-join>
            <window-source autogen-key="true" insert-only="true" name="sourceWindowJoint">
              <schema>
                <fields>
                  <field key="true" name="SEQUENCE" type="int64" />
                  <field key="false" name="time" type="stamp" />
                  <field key="false" name="joint_angles" type="array(dbl)" />
                </fields>
              </schema>
              <connectors>
                <connector class="fs" name="sub" type="subscribe">
                  <properties>
                    <property name="dateformat">%Y-%m-%d %H:%M:%S</property>
                    <property name="fsname">joint.csv</property>
                    <property name="fstype">csv</property>
                    <property name="snapshot">true</property>
                  </properties>
                </connector>
              </connectors>
            </window-source>
            <window-source autogen-key="true" insert-only="true" name="sourceWindowTemperature_left_ankle">
              <schema>
                <fields>
                  <field key="true" name="SEQUENCE" type="int64" />
                  <field key="false" name="time" type="stamp" />
                  <field key="false" name="temperature" type="double" />
                </fields>
              </schema>
            </window-source>
            <window-source autogen-key="true" insert-only="true" name="sourceWindowTemperature_left_hip_aa">
              <schema>
                <fields>
                  <field key="true" name="SEQUENCE" type="int64" />
                  <field key="false" name="time" type="stamp" />
                  <field key="false" name="temperature" type="double" />
                </fields>
              </schema>
            </window-source>
            <window-source autogen-key="true" insert-only="true" name="sourceWindowTemperature_left_hip_fe">
              <schema>
                <fields>
                  <field key="true" name="SEQUENCE" type="int64" />
                  <field key="false" name="time" type="stamp" />
                  <field key="false" name="temperature" type="double" />
                </fields>
              </schema>
            </window-source>
            <window-source autogen-key="true" insert-only="true" name="sourceWindowTemperature_left_knee">
              <schema>
                <fields>
                  <field key="true" name="SEQUENCE" type="int64" />
                  <field key="false" name="time" type="stamp" />
                  <field key="false" name="temperature" type="double" />
                </fields>
              </schema>
            </window-source>
            <window-source autogen-key="true" insert-only="true" name="sourceWindowTemperature_right_ankle">
              <schema>
                <fields>
                  <field key="true" name="SEQUENCE" type="int64" />
                  <field key="false" name="time" type="stamp" />
                  <field key="false" name="temperature" type="double" />
                </fields>
              </schema>
            </window-source>
            <window-source autogen-key="true" insert-only="true" name="sourceWindowTemperature_right_hip_aa">
              <schema>
                <fields>
                  <field key="true" name="SEQUENCE" type="int64" />
                  <field key="false" name="time" type="stamp" />
                  <field key="false" name="temperature" type="double" />
                </fields>
              </schema>
            </window-source>
            <window-source autogen-key="true" insert-only="true" name="sourceWindowTemperature_right_hip_fe">
              <schema>
                <fields>
                  <field key="true" name="SEQUENCE" type="int64" />
                  <field key="false" name="time" type="stamp" />
                  <field key="false" name="temperature" type="double" />
                </fields>
              </schema>
            </window-source>
            <window-source autogen-key="true" insert-only="true" name="sourceWindowTemperature_right_knee">
              <schema>
                <fields>
                  <field key="true" name="SEQUENCE" type="int64" />
                  <field key="false" name="time" type="stamp" />
                  <field key="false" name="temperature" type="double" />
                </fields>
              </schema>
            </window-source>
          </windows>
          <edges>
            <edge role="left" source="sourceWindowTemperature_left_ankle" target="joinTemperature_ankle" />
            <edge role="right" source="sourceWindowTemperature_right_ankle" target="joinTemperature_ankle" />
            <edge role="left" source="sourceWindowTemperature_left_hip_aa" target="joinTemperature_hip_aa" />
            <edge role="right" source="sourceWindowTemperature_right_hip_aa" target="joinTemperature_hip_aa" />
            <edge role="left" source="sourceWindowTemperature_left_hip_fe" target="joinTemperature_hip_fe" />
            <edge role="right" source="sourceWindowTemperature_right_hip_fe" target="joinTemperature_hip_fe" />
            <edge role="left" source="sourceWindowTemperature_left_knee" target="joinTemperature_knee" />
            <edge role="right" source="sourceWindowTemperature_right_knee" target="joinTemperature_knee" />
            <edge role="left" source="joinTemperature_ankle" target="joinTemperature_ankle_knee" />
            <edge role="right" source="joinTemperature_knee" target="joinTemperature_ankle_knee" />
            <edge role="left" source="joinTemperature_hip_aa" target="joinTemperature_hip" />
            <edge role="right" source="joinTemperature_hip_fe" target="joinTemperature_hip" />
            <edge role="left" source="joinTemperature_hip" target="joinTemperature" />
            <edge role="right" source="joinTemperature_ankle_knee" target="joinTemperature" />
<!--            <edge role="left" source="sourceWindowJoint" target="joinWindow" />-->
<!--            <edge role="right" source="joinTemperature" target="joinWindow" />-->
          </edges>
        </contquery>
      </contqueries>
    </project>
  </projects>
</engine>
